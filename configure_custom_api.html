<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>üîß Configurar API Personalizada - J.A.R.V.I.S</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #000428 0%, #004e92 100%);\n            color: #00AAFF;\n            margin: 0;\n            padding: 20px;\n            min-height: 100vh;\n        }\n        .container {\n            max-width: 900px;\n            margin: 0 auto;\n            background: rgba(0, 0, 0, 0.8);\n            border-radius: 15px;\n            padding: 30px;\n            border: 2px solid #00AAFF;\n            box-shadow: 0 0 30px rgba(0, 170, 255, 0.3);\n        }\n        h1 {\n            text-align: center;\n            margin-bottom: 30px;\n            text-shadow: 0 0 10px #00AAFF;\n        }\n        .config-section {\n            margin: 25px 0;\n            padding: 20px;\n            background: rgba(0, 170, 255, 0.1);\n            border-radius: 10px;\n            border-left: 4px solid #00AAFF;\n        }\n        .input-group {\n            margin: 15px 0;\n        }\n        label {\n            display: block;\n            margin-bottom: 8px;\n            font-weight: bold;\n            color: #00CCFF;\n        }\n        input[type=\"text\"], input[type=\"url\"], textarea {\n            width: 100%;\n            padding: 12px;\n            background: rgba(0, 0, 0, 0.5);\n            border: 2px solid #00AAFF;\n            border-radius: 8px;\n            color: #00AAFF;\n            font-size: 16px;\n            box-sizing: border-box;\n        }\n        input[type=\"text\"]:focus, input[type=\"url\"]:focus, textarea:focus {\n            outline: none;\n            border-color: #00FFAA;\n            box-shadow: 0 0 10px rgba(0, 255, 170, 0.3);\n        }\n        button {\n            background: linear-gradient(45deg, #00AAFF, #0088CC);\n            border: none;\n            color: white;\n            padding: 12px 24px;\n            margin: 8px;\n            border-radius: 25px;\n            cursor: pointer;\n            font-size: 16px;\n            font-weight: bold;\n            transition: all 0.3s ease;\n            box-shadow: 0 4px 15px rgba(0, 170, 255, 0.3);\n        }\n        button:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 6px 20px rgba(0, 170, 255, 0.5);\n        }\n        button:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n            transform: none;\n        }\n        .status {\n            padding: 12px 16px;\n            border-radius: 8px;\n            margin: 15px 0;\n            font-weight: bold;\n        }\n        .success { background: rgba(40, 167, 69, 0.3); border-left: 4px solid #28a745; }\n        .error { background: rgba(220, 53, 69, 0.3); border-left: 4px solid #dc3545; }\n        .warning { background: rgba(255, 193, 7, 0.3); border-left: 4px solid #ffc107; color: #000; }\n        .info { background: rgba(23, 162, 184, 0.3); border-left: 4px solid #17a2b8; }\n        .api-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n            gap: 20px;\n            margin: 20px 0;\n        }\n        .api-card {\n            background: rgba(0, 170, 255, 0.05);\n            border: 1px solid rgba(0, 170, 255, 0.3);\n            border-radius: 10px;\n            padding: 20px;\n            text-align: center;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n        .api-card:hover {\n            background: rgba(0, 170, 255, 0.15);\n            border-color: #00AAFF;\n        }\n        .api-card.selected {\n            background: rgba(0, 170, 255, 0.2);\n            border-color: #00FFAA;\n            box-shadow: 0 0 15px rgba(0, 255, 170, 0.3);\n        }\n        .api-icon {\n            font-size: 48px;\n            margin-bottom: 15px;\n        }\n        code {\n            background: rgba(0, 0, 0, 0.5);\n            padding: 2px 6px;\n            border-radius: 3px;\n            font-family: 'Courier New', monospace;\n        }\n        .test-result {\n            margin: 15px 0;\n            padding: 15px;\n            border-radius: 8px;\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            white-space: pre-wrap;\n        }\n        .step-indicator {\n            display: flex;\n            justify-content: center;\n            margin: 30px 0;\n        }\n        .step {\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            background: rgba(0, 170, 255, 0.3);\n            border: 2px solid #00AAFF;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin: 0 10px;\n            font-weight: bold;\n            transition: all 0.3s ease;\n        }\n        .step.active {\n            background: #00AAFF;\n            color: #000;\n        }\n        .step.completed {\n            background: #00FF88;\n            border-color: #00FF88;\n            color: #000;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>üîß Configurador de API Personalizada</h1>\n        \n        <div class=\"step-indicator\">\n            <div class=\"step active\" id=\"step1\">1</div>\n            <div class=\"step\" id=\"step2\">2</div>\n            <div class=\"step\" id=\"step3\">3</div>\n            <div class=\"step\" id=\"step4\">4</div>\n        </div>\n        \n        <!-- Passo 1: Sele√ß√£o do Tipo de API -->\n        <div class=\"config-section\" id=\"section1\">\n            <h2>üì° Passo 1: Tipo da Sua API</h2>\n            <p>Selecione o tipo da API que voc√™ criou:</p>\n            \n            <div class=\"api-grid\">\n                <div class=\"api-card\" onclick=\"selectApiType('render')\" id=\"card-render\">\n                    <div class=\"api-icon\">üåê</div>\n                    <h3>Render.com</h3>\n                    <p>API hospedada no Render</p>\n                    <code>*.onrender.com</code>\n                </div>\n                \n                <div class=\"api-card\" onclick=\"selectApiType('vercel')\" id=\"card-vercel\">\n                    <div class=\"api-icon\">‚ñ≤</div>\n                    <h3>Vercel</h3>\n                    <p>API hospedada no Vercel</p>\n                    <code>*.vercel.app</code>\n                </div>\n                \n                <div class=\"api-card\" onclick=\"selectApiType('heroku')\" id=\"card-heroku\">\n                    <div class=\"api-icon\">üü£</div>\n                    <h3>Heroku</h3>\n                    <p>API hospedada no Heroku</p>\n                    <code>*.herokuapp.com</code>\n                </div>\n                \n                <div class=\"api-card\" onclick=\"selectApiType('custom')\" id=\"card-custom\">\n                    <div class=\"api-icon\">üîß</div>\n                    <h3>Personalizada</h3>\n                    <p>Outro provedor ou servidor pr√≥prio</p>\n                    <code>Qualquer URL</code>\n                </div>\n            </div>\n            \n            <button onclick=\"nextStep(2)\" id=\"btn-step1\" disabled>Pr√≥ximo Passo ‚Üí</button>\n        </div>\n        \n        <!-- Passo 2: Configura√ß√£o da URL -->\n        <div class=\"config-section\" id=\"section2\" style=\"display: none;\">\n            <h2>üåê Passo 2: URL da Sua API</h2>\n            \n            <div class=\"input-group\">\n                <label for=\"apiUrl\">URL da API:</label>\n                <input type=\"url\" id=\"apiUrl\" placeholder=\"https://sua-api.exemplo.com\" \n                       oninput=\"validateUrl()\">\n                <small>Exemplo: https://meu-jarvis-api.onrender.com</small>\n            </div>\n            \n            <div class=\"input-group\">\n                <label for=\"apiKey\">Chave da API (opcional):</label>\n                <input type=\"text\" id=\"apiKey\" placeholder=\"Sua chave de API se necess√°rio\">\n                <small>Deixe vazio se sua API n√£o usar autentica√ß√£o</small>\n            </div>\n            \n            <div id=\"urlStatus\"></div>\n            \n            <button onclick=\"prevStep(1)\">‚Üê Voltar</button>\n            <button onclick=\"nextStep(3)\" id=\"btn-step2\" disabled>Pr√≥ximo Passo ‚Üí</button>\n        </div>\n        \n        <!-- Passo 3: Teste da API -->\n        <div class=\"config-section\" id=\"section3\" style=\"display: none;\">\n            <h2>üß™ Passo 3: Testar Conex√£o</h2>\n            \n            <p>Vamos testar se sua API est√° funcionando corretamente:</p>\n            \n            <div class=\"input-group\">\n                <label for=\"testMessage\">Mensagem de teste:</label>\n                <input type=\"text\" id=\"testMessage\" value=\"Ol√°, voc√™ est√° funcionando?\" \n                       placeholder=\"Digite uma mensagem para testar\">\n            </div>\n            \n            <button onclick=\"testApi()\" id=\"btn-test\">üß™ Testar API</button>\n            <button onclick=\"testHealth()\" id=\"btn-health\">‚ù§Ô∏è Verificar Sa√∫de</button>\n            \n            <div id=\"testResults\"></div>\n            \n            <button onclick=\"prevStep(2)\">‚Üê Voltar</button>\n            <button onclick=\"nextStep(4)\" id=\"btn-step3\" disabled>Pr√≥ximo Passo ‚Üí</button>\n        </div>\n        \n        <!-- Passo 4: Aplicar Configura√ß√£o -->\n        <div class=\"config-section\" id=\"section4\" style=\"display: none;\">\n            <h2>‚úÖ Passo 4: Aplicar Configura√ß√£o</h2>\n            \n            <div class=\"status info\">\n                <strong>üìã Resumo da Configura√ß√£o:</strong><br>\n                <strong>Tipo:</strong> <span id=\"summary-type\"></span><br>\n                <strong>URL:</strong> <span id=\"summary-url\"></span><br>\n                <strong>Status:</strong> <span id=\"summary-status\"></span>\n            </div>\n            \n            <p>Escolha como aplicar a configura√ß√£o:</p>\n            \n            <button onclick=\"applyConfig('temporary')\">üîÑ Aplicar Temporariamente</button>\n            <button onclick=\"applyConfig('permanent')\">üíæ Salvar Permanentemente</button>\n            <button onclick=\"generateCode()\">üìù Gerar C√≥digo para Aplicar</button>\n            \n            <div id=\"configResults\"></div>\n            \n            <button onclick=\"prevStep(3)\">‚Üê Voltar</button>\n            <button onclick=\"openJarvis()\">üöÄ Abrir J.A.R.V.I.S</button>\n        </div>\n    </div>\n    \n    <script>\n        let currentStep = 1;\n        let selectedApiType = null;\n        let apiConfig = {\n            type: null,\n            url: null,\n            key: null,\n            tested: false\n        };\n        \n        function selectApiType(type) {\n            selectedApiType = type;\n            apiConfig.type = type;\n            \n            // Remover sele√ß√£o anterior\n            document.querySelectorAll('.api-card').forEach(card => {\n                card.classList.remove('selected');\n            });\n            \n            // Selecionar novo\n            document.getElementById(`card-${type}`).classList.add('selected');\n            \n            // Habilitar pr√≥ximo passo\n            document.getElementById('btn-step1').disabled = false;\n            \n            // Pr√©-preencher URL baseado no tipo\n            const urlInput = document.getElementById('apiUrl');\n            switch(type) {\n                case 'render':\n                    urlInput.placeholder = 'https://meu-jarvis-api.onrender.com';\n                    break;\n                case 'vercel':\n                    urlInput.placeholder = 'https://meu-jarvis-api.vercel.app';\n                    break;\n                case 'heroku':\n                    urlInput.placeholder = 'https://meu-jarvis-api.herokuapp.com';\n                    break;\n                case 'custom':\n                    urlInput.placeholder = 'https://minha-api.exemplo.com';\n                    break;\n            }\n        }\n        \n        function validateUrl() {\n            const url = document.getElementById('apiUrl').value;\n            const status = document.getElementById('urlStatus');\n            const btn = document.getElementById('btn-step2');\n            \n            if (!url) {\n                status.innerHTML = '';\n                btn.disabled = true;\n                return;\n            }\n            \n            try {\n                new URL(url);\n                if (url.startsWith('https://')) {\n                    status.innerHTML = '<div class=\"status success\">‚úÖ URL v√°lida e segura (HTTPS)</div>';\n                    btn.disabled = false;\n                    apiConfig.url = url;\n                } else if (url.startsWith('http://')) {\n                    status.innerHTML = '<div class=\"status warning\">‚ö†Ô∏è URL v√°lida mas n√£o segura (HTTP). HTTPS √© recomendado.</div>';\n                    btn.disabled = false;\n                    apiConfig.url = url;\n                } else {\n                    status.innerHTML = '<div class=\"status error\">‚ùå URL deve come√ßar com http:// ou https://</div>';\n                    btn.disabled = true;\n                }\n            } catch (e) {\n                status.innerHTML = '<div class=\"status error\">‚ùå URL inv√°lida</div>';\n                btn.disabled = true;\n            }\n        }\n        \n        async function testApi() {\n            const url = apiConfig.url;\n            const message = document.getElementById('testMessage').value;\n            const results = document.getElementById('testResults');\n            const btn = document.getElementById('btn-test');\n            \n            btn.disabled = true;\n            btn.textContent = 'üîÑ Testando...';\n            \n            results.innerHTML = '<div class=\"status info\">üîÑ Testando conex√£o com a API...</div>';\n            \n            try {\n                const response = await fetch(url + '/command', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Accept': 'application/json'\n                    },\n                    body: JSON.stringify({ message: message })\n                });\n                \n                const data = await response.json();\n                \n                if (response.ok && data.reply) {\n                    results.innerHTML = `\n                        <div class=\"status success\">‚úÖ API funcionando perfeitamente!</div>\n                        <div class=\"test-result\" style=\"background: rgba(40, 167, 69, 0.2);\">\n<strong>Resposta da API:</strong>\n${data.reply}\n\n<strong>Status:</strong> ${response.status} ${response.statusText}\n<strong>Tempo de resposta:</strong> R√°pido\n                        </div>\n                    `;\n                    apiConfig.tested = true;\n                    document.getElementById('btn-step3').disabled = false;\n                } else {\n                    throw new Error(`Resposta inv√°lida: ${JSON.stringify(data)}`);\n                }\n                \n            } catch (error) {\n                results.innerHTML = `\n                    <div class=\"status error\">‚ùå Erro ao testar API</div>\n                    <div class=\"test-result\" style=\"background: rgba(220, 53, 69, 0.2);\">\n<strong>Erro:</strong>\n${error.message}\n\n<strong>Poss√≠veis causas:</strong>\n‚Ä¢ URL incorreta\n‚Ä¢ API n√£o est√° rodando\n‚Ä¢ Problemas de CORS\n‚Ä¢ Endpoint /command n√£o existe\n‚Ä¢ Formato de resposta diferente\n                    </div>\n                `;\n            }\n            \n            btn.disabled = false;\n            btn.textContent = 'üß™ Testar API';\n        }\n        \n        async function testHealth() {\n            const url = apiConfig.url;\n            const results = document.getElementById('testResults');\n            const btn = document.getElementById('btn-health');\n            \n            btn.disabled = true;\n            btn.textContent = 'üîÑ Verificando...';\n            \n            try {\n                const response = await fetch(url + '/health');\n                const data = await response.json();\n                \n                if (response.ok) {\n                    results.innerHTML = `\n                        <div class=\"status success\">‚úÖ API est√° saud√°vel!</div>\n                        <div class=\"test-result\" style=\"background: rgba(40, 167, 69, 0.2);\">\n<strong>Status da API:</strong>\n${JSON.stringify(data, null, 2)}\n\n<strong>Status HTTP:</strong> ${response.status}\n                        </div>\n                    `;\n                } else {\n                    throw new Error(`Status ${response.status}`);\n                }\n                \n            } catch (error) {\n                results.innerHTML = `\n                    <div class=\"status warning\">‚ö†Ô∏è Endpoint /health n√£o dispon√≠vel</div>\n                    <div class=\"test-result\" style=\"background: rgba(255, 193, 7, 0.2); color: #000;\">\n<strong>Aviso:</strong>\nO endpoint /health n√£o est√° dispon√≠vel, mas isso n√£o significa que a API n√£o funciona.\nTente o teste principal com uma mensagem.\n\n<strong>Erro:</strong> ${error.message}\n                    </div>\n                `;\n            }\n            \n            btn.disabled = false;\n            btn.textContent = '‚ù§Ô∏è Verificar Sa√∫de';\n        }\n        \n        function applyConfig(type) {\n            const results = document.getElementById('configResults');\n            \n            if (type === 'temporary') {\n                // Aplicar temporariamente (apenas nesta sess√£o)\n                localStorage.setItem('FRONT_API_URL', apiConfig.url);\n                results.innerHTML = `\n                    <div class=\"status success\">‚úÖ Configura√ß√£o aplicada temporariamente!</div>\n                    <div class=\"status info\">\n                        <strong>üìù O que foi feito:</strong><br>\n                        ‚Ä¢ URL da API salva no localStorage<br>\n                        ‚Ä¢ Configura√ß√£o ativa apenas nesta sess√£o<br>\n                        ‚Ä¢ Para tornar permanente, use a op√ß√£o \"Salvar Permanentemente\"\n                    </div>\n                `;\n            } else if (type === 'permanent') {\n                // Salvar permanentemente\n                localStorage.setItem('FRONT_API_URL', apiConfig.url);\n                localStorage.setItem('JARVIS_API_CONFIG', JSON.stringify(apiConfig));\n                results.innerHTML = `\n                    <div class=\"status success\">‚úÖ Configura√ß√£o salva permanentemente!</div>\n                    <div class=\"status info\">\n                        <strong>üìù O que foi feito:</strong><br>\n                        ‚Ä¢ URL da API salva no localStorage<br>\n                        ‚Ä¢ Configura√ß√£o completa salva<br>\n                        ‚Ä¢ Ser√° mantida entre sess√µes do navegador<br>\n                        ‚Ä¢ Para alterar, execute este configurador novamente\n                    </div>\n                `;\n            }\n        }\n        \n        function generateCode() {\n            const results = document.getElementById('configResults');\n            const code = `\n// C√≥digo para aplicar manualmente no console do navegador:\n// 1. Abra o site do Jarvis\n// 2. Pressione F12 para abrir DevTools\n// 3. V√° na aba Console\n// 4. Cole e execute este c√≥digo:\n\nlocalStorage.setItem('FRONT_API_URL', '${apiConfig.url}');\nalert('‚úÖ API configurada: ${apiConfig.url}');\nlocation.reload(); // Recarregar p√°gina\n\n// Para remover a configura√ß√£o:\n// localStorage.removeItem('FRONT_API_URL');\n            `;\n            \n            results.innerHTML = `\n                <div class=\"status info\">üìù C√≥digo gerado para aplica√ß√£o manual:</div>\n                <div class=\"test-result\" style=\"background: rgba(23, 162, 184, 0.2);\">${code}</div>\n                <button onclick=\"copyCode()\">üìã Copiar C√≥digo</button>\n            `;\n        }\n        \n        function copyCode() {\n            const code = `localStorage.setItem('FRONT_API_URL', '${apiConfig.url}');\\nalert('‚úÖ API configurada: ${apiConfig.url}');\\nlocation.reload();`;\n            navigator.clipboard.writeText(code).then(() => {\n                alert('üìã C√≥digo copiado! Cole no console do navegador.');\n            });\n        }\n        \n        function nextStep(step) {\n            // Esconder se√ß√£o atual\n            document.getElementById(`section${currentStep}`).style.display = 'none';\n            \n            // Marcar passo atual como completo\n            document.getElementById(`step${currentStep}`).classList.remove('active');\n            document.getElementById(`step${currentStep}`).classList.add('completed');\n            \n            // Mostrar pr√≥xima se√ß√£o\n            currentStep = step;\n            document.getElementById(`section${step}`).style.display = 'block';\n            document.getElementById(`step${step}`).classList.add('active');\n            \n            // Atualizar resumo se for o √∫ltimo passo\n            if (step === 4) {\n                updateSummary();\n            }\n        }\n        \n        function prevStep(step) {\n            // Esconder se√ß√£o atual\n            document.getElementById(`section${currentStep}`).style.display = 'none';\n            document.getElementById(`step${currentStep}`).classList.remove('active');\n            \n            // Mostrar se√ß√£o anterior\n            currentStep = step;\n            document.getElementById(`section${step}`).style.display = 'block';\n            document.getElementById(`step${step}`).classList.remove('completed');\n            document.getElementById(`step${step}`).classList.add('active');\n        }\n        \n        function updateSummary() {\n            document.getElementById('summary-type').textContent = apiConfig.type;\n            document.getElementById('summary-url').textContent = apiConfig.url;\n            document.getElementById('summary-status').textContent = apiConfig.tested ? '‚úÖ Testada e funcionando' : '‚ö†Ô∏è N√£o testada';\n        }\n        \n        function openJarvis() {\n            window.open('https://joaomanoel123.github.io/jarvis', '_blank');\n        }\n        \n        // Carregar configura√ß√£o existente se houver\n        window.addEventListener('load', () => {\n            const existingUrl = localStorage.getItem('FRONT_API_URL');\n            if (existingUrl) {\n                document.getElementById('apiUrl').value = existingUrl;\n                validateUrl();\n            }\n        });\n    </script>\n</body>\n</html>"