/* ===================================
   JARVIS MOBILE OPTIMIZATIONS
   Melhorias específicas para dispositivos móveis
   Mantendo o design original do GitHub Pages
   =================================== */

/* Melhorias gerais para mobile */
@media (max-width: 480px) {
    /* Ajustes no body para mobile */
    body {
        overflow-x: hidden;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    /* Container principal */
    .container {
        padding: 0 10px;
    }

    /* Loader SVG - versão mobile compacta */
    .svg-frame {
        width: 280px !important;
        height: 280px !important;
        margin: 0 auto;
    }
    
    svg {
        width: 280px !important;
        height: 280px !important;
    }

    /* Animações reduzidas para performance mobile */
    @media (prefers-reduced-motion: reduce) {
        .svg-frame,
        svg,
        #big-centro,
        #outter1,
        #solo-lines,
        #center,
        #outter-center,
        #bottom-dots,
        #center-lines,
        #squares,
        #top-dots {
            animation: none !important;
        }
    }

    /* Título principal */
    #WishMessage {
        font-size: 1.5rem !important;
        padding: 0 15px;
        text-align: center;
        line-height: 1.4;
    }

    /* Seção Oval - interface principal */
    #Oval {
        padding: 20px 0;
    }

    /* Canvas ajustado para mobile */
    #canvasOne {
        width: 100% !important;
        max-width: 350px !important;
        height: 200px !important;
    }

    /* Animação do J.A.R.V.I.S reduzida */
    .square {
        width: 200px !important;
        height: 200px !important;
    }

    /* Input field otimizado para mobile */
    #TextInput {
        margin: 0 5% !important;
        padding: 8px 15px !important;
        border-radius: 25px;
        flex-wrap: nowrap;
        align-items: center;
    }

    .input-field {
        font-size: 16px !important; /* Evita zoom no iOS */
        padding: 10px 0;
        min-height: 20px;
    }

    /* Botões otimizados para touch */
    .glow-on-hover {
        width: 44px !important;
        height: 44px !important;
        margin-left: 8px !important;
        border-radius: 50% !important;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
    }

    /* Texto de instrução */
    .text-center h5 {
        font-size: 1.1rem;
        margin-bottom: 15px;
    }
}

/* Tablets em modo portrait */
@media (min-width: 481px) and (max-width: 768px) {
    .svg-frame {
        width: 350px !important;
        height: 350px !important;
    }
    
    svg {
        width: 350px !important;
        height: 350px !important;
    }

    .square {
        width: 280px !important;
        height: 280px !important;
    }

    #TextInput {
        margin: 0 8% !important;
    }

    .glow-on-hover {
        width: 40px !important;
        height: 40px !important;
    }
}

/* Tablets em modo landscape */
@media (min-width: 769px) and (max-width: 1024px) {
    .svg-frame {
        width: 400px;
        height: 400px;
    }
    
    svg {
        width: 400px;
        height: 400px;
    }

    #TextInput {
        margin: 0 15%;
    }
}

/* Chat Canvas - melhorias mobile */
@media (max-width: 768px) {
    .chat-canvas {
        width: 100% !important;
        max-width: none !important;
    }

    .offcanvas-body {
        padding: 15px;
    }

    .receiver_message,
    .sender_message {
        font-size: 14px;
        padding: 12px;
        margin-bottom: 10px;
        border-radius: 18px;
        max-width: 85%;
        word-wrap: break-word;
    }

    .width-size {
        max-width: 90% !important;
    }
}

/* Modal melhorado para mobile */
@media (max-width: 768px) {
    .modal-dialog {
        margin: 10px !important;
        max-width: calc(100% - 20px) !important;
    }

    .modal-body {
        padding: 15px;
        font-size: 14px;
        max-height: 70vh;
        overflow-y: auto;
    }

    .modal-body ul {
        padding-left: 20px;
    }

    .modal-body li {
        margin-bottom: 8px;
        line-height: 1.4;
    }
}

/* Siri Wave - otimizado para mobile */
@media (max-width: 768px) {
    #SiriWave .container {
        padding: 0 15px;
    }

    #SiriWave .siri-message {
        font-size: 1.3rem !important;
        text-align: center !important;
        margin-bottom: 20px !important;
    }

    #siri-container {
        width: 100%;
        max-width: 350px;
        margin: 0 auto;
    }
}

/* Melhorias de performance para mobile */
@media (max-width: 768px) {
    /* Reduzir blur effects em mobile */
    .glow-on-hover:before {
        filter: blur(3px) !important;
    }

    svg {
        filter: drop-shadow(0 0 8px #00aaff) !important;
    }

    /* Otimizar animações */
    .square span {
        box-shadow: 0 0 30px rgb(25, 0, 255), inset 0 0 30px rgb(25, 0, 255) !important;
    }
}

/* Orientação landscape em mobile */
@media (max-width: 768px) and (orientation: landscape) {
    #Start {
        padding: 10px 0;
    }

    .svg-frame {
        width: 200px !important;
        height: 200px !important;
    }
    
    svg {
        width: 200px !important;
        height: 200px !important;
    }

    #WishMessage {
        font-size: 1.2rem !important;
        margin-top: 10px !important;
    }

    .d-flex.justify-content-center.align-items-center[style*="height: 80vh"] {
        height: 60vh !important;
    }
}

/* Melhorias de acessibilidade mobile */
@media (max-width: 768px) {
    /* Aumentar área de toque */
    button, .btn {
        min-height: 44px;
        min-width: 44px;
    }

    /* Melhorar contraste em telas pequenas */
    .text-light {
        color: #ffffff !important;
    }

    /* Scroll suave */
    html {
        scroll-behavior: smooth;
    }
}

/* Status messages otimizadas para mobile */
@media (max-width: 768px) {
    .status-message {
        top: 10px !important;
        right: 10px !important;
        left: 10px !important;
        font-size: 14px;
        padding: 12px 15px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
}

/* Prevenção de zoom indesejado no iOS */
@media (max-width: 768px) {
    input[type="text"],
    input[type="email"],
    input[type="password"],
    textarea,
    select {
        font-size: 16px !important;
    }
}

/* Melhorias para dispositivos com notch */
@supports (padding: max(0px)) {
    @media (max-width: 768px) {
        body {
            padding-left: max(10px, env(safe-area-inset-left));
            padding-right: max(10px, env(safe-area-inset-right));
        }

        .status-message {
            top: max(10px, env(safe-area-inset-top)) !important;
        }
    }
}

/* Dark mode otimizado para mobile */
@media (max-width: 768px) and (prefers-color-scheme: dark) {
    body {
        background-color: #000000;
    }

    .modal-content {
        background-color: #1a1a1a !important;
        border: 1px solid #333;
    }

    .chat-canvas {
        background-color: #111111 !important;
    }
}

/* Animações de entrada otimizadas para mobile */
@media (max-width: 768px) {
    @keyframes mobileSlideIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .container > section {
        animation: mobileSlideIn 0.6s ease-out;
    }
}

/* Loading spinner otimizado para mobile */
@media (max-width: 768px) {
    .loading {
        width: 24px;
        height: 24px;
        border-width: 2px;
    }
}

/* Melhorias para PWA (Progressive Web App) */
@media (display-mode: standalone) {
    body {
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
    }
}