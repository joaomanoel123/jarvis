# ğŸ”§ Guia de ConfiguraÃ§Ã£o da API Personalizada - J.A.R.V.I.S\n\n## ğŸ“‹ VisÃ£o Geral\n\nO J.A.R.V.I.S estÃ¡ atualmente configurado para usar APIs padrÃ£o, mas vocÃª pode facilmente configurÃ¡-lo para usar **sua prÃ³pria API personalizada**. Este guia mostra 3 mÃ©todos diferentes para fazer essa configuraÃ§Ã£o.\n\n## ğŸ¯ APIs Atuais Configuradas\n\n### ğŸŒ GitHub Pages\n```javascript\nconst API_URL = 'https://jarvis-api-joao-manoel.onrender.com'\n```\n\n### ğŸ”§ PadrÃ£o (Fallback)\n```javascript\nconst DEFAULT_API_URL = 'https://jarvis-tdgt.onrender.com'\n```\n\n## ğŸ› ï¸ MÃ©todo 1: Configurador Visual (Recomendado)\n\n### ğŸ“± Interface AmigÃ¡vel\nUse o configurador visual para uma experiÃªncia guiada:\n\n```bash\n# Abra no navegador:\nopen configure_custom_api.html\n```\n\n### âœ¨ Funcionalidades\n- âœ… **Interface visual** com passos guiados\n- âœ… **Teste automÃ¡tico** da API\n- âœ… **ValidaÃ§Ã£o de URL** em tempo real\n- âœ… **AplicaÃ§Ã£o automÃ¡tica** da configuraÃ§Ã£o\n- âœ… **Suporte a mÃºltiplos provedores** (Render, Vercel, Heroku, Custom)\n\n### ğŸ® Como Usar\n1. **Abra** `configure_custom_api.html` no navegador\n2. **Selecione** o tipo da sua API\n3. **Digite** a URL da sua API\n4. **Teste** a conexÃ£o\n5. **Aplique** a configuraÃ§Ã£o\n\n## ğŸ› ï¸ MÃ©todo 2: Script AutomÃ¡tico\n\n### âš¡ ConfiguraÃ§Ã£o RÃ¡pida\nUse o script para configuraÃ§Ã£o via terminal:\n\n```bash\n# Execute o script\n./setup_custom_api.sh\n```\n\n### ğŸ¯ OpÃ§Ãµes DisponÃ­veis\n1. **ğŸŒ Render.com** (*.onrender.com)\n2. **â–² Vercel** (*.vercel.app)\n3. **ğŸŸ£ Heroku** (*.herokuapp.com)\n4. **ğŸ”§ URL personalizada**\n5. **ğŸ“ Mostrar configuraÃ§Ã£o atual**\n6. **ğŸ”„ Restaurar padrÃ£o**\n\n### ğŸš€ Funcionalidades\n- âœ… **Teste de conectividade** automÃ¡tico\n- âœ… **Backup automÃ¡tico** do arquivo original\n- âœ… **Commit e push** opcionais\n- âœ… **ValidaÃ§Ã£o de URL**\n- âœ… **Rollback fÃ¡cil**\n\n## ğŸ› ï¸ MÃ©todo 3: ConfiguraÃ§Ã£o Manual\n\n### ğŸ“ EdiÃ§Ã£o Direta do CÃ³digo\n\n#### 1. Editar `www/main-github-pages.js`\n\n**Localizar as linhas:**\n```javascript\n// Linha ~6\nconst API_URL = isGitHubPages ? \n    'https://jarvis-api-joao-manoel.onrender.com' : // URL da API no Render\n    'http://localhost:8000'; // URL local para desenvolvimento\n\n// Linha ~280\nconst DEFAULT_API_URL = 'https://jarvis-tdgt.onrender.com';\n```\n\n**Substituir por:**\n```javascript\n// Linha ~6\nconst API_URL = isGitHubPages ? \n    'https://SUA-API-PERSONALIZADA.com' : // SUA API PERSONALIZADA\n    'http://localhost:8000'; // URL local para desenvolvimento\n\n// Linha ~280\nconst DEFAULT_API_URL = 'https://SUA-API-PERSONALIZADA.com';\n```\n\n#### 2. Fazer Commit e Push\n```bash\ngit add www/main-github-pages.js\ngit commit -m \"ğŸ”§ Configure custom API: https://SUA-API-PERSONALIZADA.com\"\ngit push origin main\n```\n\n## ğŸ§ª Testando Sua API\n\n### ğŸ“¡ Endpoints NecessÃ¡rios\n\nSua API deve ter pelo menos estes endpoints:\n\n#### 1. **POST /command** (ObrigatÃ³rio)\n```javascript\n// Request\n{\n    \"message\": \"OlÃ¡ Jarvis\"\n}\n\n// Response\n{\n    \"reply\": \"OlÃ¡! Como posso ajudÃ¡-lo?\"\n}\n```\n\n#### 2. **GET /health** (Opcional)\n```javascript\n// Response\n{\n    \"status\": \"ok\",\n    \"timestamp\": \"2024-01-01T12:00:00Z\"\n}\n```\n\n### ğŸ” Teste Manual\n\n#### Via cURL\n```bash\n# Testar health\ncurl https://sua-api.com/health\n\n# Testar comando\ncurl -X POST https://sua-api.com/command \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"message\": \"OlÃ¡ Jarvis\"}'\n```\n\n#### Via JavaScript (Console do Navegador)\n```javascript\n// Testar no console do navegador\nfetch('https://sua-api.com/command', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ message: 'OlÃ¡ Jarvis' })\n})\n.then(r => r.json())\n.then(data => console.log('Resposta:', data));\n```\n\n## âš™ï¸ ConfiguraÃ§Ã£o DinÃ¢mica (Sem CÃ³digo)\n\n### ğŸ›ï¸ Via Interface do J.A.R.V.I.S\n\n1. **Acesse** o J.A.R.V.I.S no navegador\n2. **Clique** no botÃ£o de configuraÃ§Ãµes âš™ï¸\n3. **Escolha** \"ğŸ”§ Configurar URL da API\"\n4. **Digite** a URL da sua API\n5. **Confirme** a configuraÃ§Ã£o\n\n### ğŸ’¾ Via Console do Navegador\n\n```javascript\n// Configurar temporariamente\nlocalStorage.setItem('FRONT_API_URL', 'https://sua-api.com');\nalert('âœ… API configurada!');\nlocation.reload();\n\n// Verificar configuraÃ§Ã£o atual\nconsole.log('API atual:', localStorage.getItem('FRONT_API_URL'));\n\n// Remover configuraÃ§Ã£o personalizada\nlocalStorage.removeItem('FRONT_API_URL');\nlocation.reload();\n```\n\n## ğŸ”’ ConfiguraÃ§Ãµes de SeguranÃ§a\n\n### ğŸ›¡ï¸ CORS (Cross-Origin Resource Sharing)\n\nSua API deve permitir requisiÃ§Ãµes do GitHub Pages:\n\n```javascript\n// Exemplo para Express.js\napp.use(cors({\n    origin: [\n        'https://joaomanoel123.github.io',\n        'http://localhost:3000' // Para desenvolvimento\n    ]\n}));\n```\n\n### ğŸ” HTTPS\n\n- âœ… **Recomendado**: Use sempre HTTPS em produÃ§Ã£o\n- âš ï¸ **HTTP**: Pode funcionar mas nÃ£o Ã© seguro\n- ğŸš« **Mixed Content**: GitHub Pages (HTTPS) + API (HTTP) pode ser bloqueado\n\n## ğŸ› SoluÃ§Ã£o de Problemas\n\n### âŒ Erro: \"Failed to fetch\"\n\n**Causas possÃ­veis:**\n- URL incorreta\n- API nÃ£o estÃ¡ rodando\n- Problemas de CORS\n- Bloqueio de mixed content (HTTPS â†’ HTTP)\n\n**SoluÃ§Ãµes:**\n1. Verificar se a API estÃ¡ acessÃ­vel\n2. Configurar CORS corretamente\n3. Usar HTTPS na API\n4. Testar com cURL primeiro\n\n### âŒ Erro: \"Resposta invÃ¡lida da API\"\n\n**Causas possÃ­veis:**\n- Formato de resposta incorreto\n- Endpoint /command nÃ£o existe\n- API retorna HTML em vez de JSON\n\n**SoluÃ§Ãµes:**\n1. Verificar formato da resposta\n2. Implementar endpoint /command\n3. Retornar JSON vÃ¡lido\n\n### âŒ Erro: \"CORS policy\"\n\n**SoluÃ§Ã£o:**\n```javascript\n// Adicionar na sua API\nres.header('Access-Control-Allow-Origin', 'https://joaomanoel123.github.io');\nres.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\nres.header('Access-Control-Allow-Headers', 'Content-Type');\n```\n\n## ğŸ“Š Monitoramento\n\n### ğŸ” Logs do J.A.R.V.I.S\n\nAbra o console do navegador (F12) para ver:\n\n```\nğŸ¤– Jarvis iniciando...\nğŸŒ Modo: GitHub Pages\nğŸ”— API URL: https://sua-api.com\nğŸ“¤ Enviando mensagem: OlÃ¡ Jarvis\nğŸ“¥ Resposta da API: 200 OK\nâœ… Resposta processada com sucesso\n```\n\n### ğŸ“ˆ Teste de Performance\n\n```javascript\n// Medir tempo de resposta\nconst start = Date.now();\nfetch('https://sua-api.com/command', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ message: 'teste' })\n})\n.then(r => r.json())\n.then(data => {\n    const time = Date.now() - start;\n    console.log(`â±ï¸ Tempo de resposta: ${time}ms`);\n});\n```\n\n## ğŸ”„ Rollback (Reverter MudanÃ§as)\n\n### ğŸ“ Via Backup (Script)\n```bash\n# Se usou o script, hÃ¡ um backup automÃ¡tico\ncp www/main-github-pages.js.backup www/main-github-pages.js\ngit add www/main-github-pages.js\ngit commit -m \"ğŸ”„ Revert to original API configuration\"\ngit push origin main\n```\n\n### ğŸ”§ Via Git\n```bash\n# Reverter Ãºltimo commit\ngit revert HEAD\ngit push origin main\n\n# Ou resetar para commit especÃ­fico\ngit reset --hard COMMIT_HASH\ngit push --force-with-lease origin main\n```\n\n### ğŸ’¾ Via Interface\n1. Acesse configuraÃ§Ãµes do J.A.R.V.I.S\n2. Configure URL da API\n3. Deixe vazio para usar padrÃ£o\n4. Ou digite: `https://jarvis-tdgt.onrender.com`\n\n## ğŸ“‹ Checklist de ConfiguraÃ§Ã£o\n\n### âœ… Antes de Configurar\n- [ ] API estÃ¡ rodando e acessÃ­vel\n- [ ] Endpoint `/command` implementado\n- [ ] CORS configurado para GitHub Pages\n- [ ] HTTPS configurado (recomendado)\n- [ ] Testado com cURL ou Postman\n\n### âœ… ApÃ³s Configurar\n- [ ] J.A.R.V.I.S carrega sem erros\n- [ ] Comandos de texto funcionam\n- [ ] Comandos de voz funcionam\n- [ ] Respostas sÃ£o exibidas corretamente\n- [ ] TTS funciona (se habilitado)\n- [ ] Sem erros no console do navegador\n\n## ğŸ‰ Exemplos de APIs CompatÃ­veis\n\n### ğŸ Python (FastAPI)\n```python\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp = FastAPI()\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"https://joaomanoel123.github.io\"],\n    allow_methods=[\"GET\", \"POST\"],\n    allow_headers=[\"*\"],\n)\n\n@app.post(\"/command\")\nasync def command(request: dict):\n    message = request.get(\"message\", \"\")\n    # Processar mensagem com IA\n    reply = f\"VocÃª disse: {message}\"\n    return {\"reply\": reply}\n\n@app.get(\"/health\")\nasync def health():\n    return {\"status\": \"ok\"}\n```\n\n### ğŸŸ¨ Node.js (Express)\n```javascript\nconst express = require('express');\nconst cors = require('cors');\n\nconst app = express();\n\napp.use(cors({\n    origin: 'https://joaomanoel123.github.io'\n}));\napp.use(express.json());\n\napp.post('/command', (req, res) => {\n    const { message } = req.body;\n    // Processar mensagem com IA\n    const reply = `VocÃª disse: ${message}`;\n    res.json({ reply });\n});\n\napp.get('/health', (req, res) => {\n    res.json({ status: 'ok' });\n});\n\napp.listen(3000);\n```\n\n## ğŸš€ Deploy da Sua API\n\n### ğŸŒ Render.com\n1. Conecte seu repositÃ³rio\n2. Configure build command\n3. Configure start command\n4. Adicione variÃ¡veis de ambiente\n5. Deploy automÃ¡tico\n\n### â–² Vercel\n1. Conecte GitHub\n2. Configure projeto\n3. Deploy automÃ¡tico\n4. Configure domÃ­nio personalizado\n\n### ğŸŸ£ Heroku\n1. Crie app no Heroku\n2. Conecte GitHub\n3. Configure buildpacks\n4. Deploy automÃ¡tico\n\n---\n\n## ğŸ“ Suporte\n\n### ğŸ†˜ Precisa de Ajuda?\n\n1. **ğŸ“– DocumentaÃ§Ã£o**: Consulte este guia\n2. **ğŸ§ª Teste**: Use o configurador visual\n3. **ğŸ” Debug**: Verifique console do navegador\n4. **ğŸ“ Logs**: Analise logs da sua API\n\n### ğŸ”§ Comandos Ãšteis\n\n```bash\n# Verificar configuraÃ§Ã£o atual\ngrep -n \"API_URL\" www/main-github-pages.js\n\n# Testar API\ncurl https://sua-api.com/health\n\n# Ver logs do git\ngit log --oneline -5\n\n# Status do repositÃ³rio\ngit status\n```\n\n---\n\n**ğŸ¯ CONFIGURAÃ‡ÃƒO PERSONALIZADA COMPLETA!**  \n**ğŸ”§ Use qualquer um dos 3 mÃ©todos acima**  \n**ğŸŒ Sua API + J.A.R.V.I.S = Assistente Personalizado**  \n**ğŸ‘¨â€ğŸ’» Desenvolvido para JoÃ£o Manoel**"